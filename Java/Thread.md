# 쓰레드
 프로그램의 프로세스 내에서 실행되는 흐름의 단위.

# JVM의 쓰레드는 어떻게 관리될까?
 * CS에서 항상 운영체제 쓰레드 방식에 대해 배운다. 이것이 왜 중요할까?
 * JVM도 윈도우 환경에서는 Native하게 OS의 스케쥴링 기법을 따른다. 때문에 RR(라운드 로빈) 방식으로 스케쥴링 된다.
 * 라운드 로빈은 시간 할당량을 3으로 가정하고, 쓰레드의 실행시간이 8이면 3씩 도는거다.
 * 큐 방식으로 시간을 돌리면서 실행한다.
  https://learn.microsoft.com/en-us/windows/win32/procthread/scheduling-priorities

# 컨텍스트 스위칭(문맥교환이란?)
  * CPU를 사용중에 다른 프로세스가 CPU를 사용하도록 문맥(상태)를 보관하고 새로운 프로세스를 적재하는 작업
  * 컨텍스트(상태)를 보관하고 꺼내는 식으로 실제 실행되는 프로세스를 교체해주는 행위

# Runnable vs Thread
  * Thread class는 Runable interface를 구현한 클래스라서, 바로 사용가능
  * Runnable Interface는 사용할때, class를 생성해줘야함.

# 프로세스 용어
 * 준비, 대기, 실행
# NIO(New i/o)
 * NIO는 일반적으로 IO와 같이 Stream(연속적인 저장공간)을 사용하지 않으며, Buffer를 활용한다.
 * Buffer는 오히려 multiThread 환경에서 Thread Safe하다.

# Transient
 * 의도적으로 Serializable하지않게 만들어서 전송하지 못하도록 하는 것.

# 자바의 네트워크 프로그래밍
 * 소켓 : 엔드포인트에 포트를 열어 두어, 데이터가 들어올 수 있도록 열어 놓는 것. (단말 포인트)
   * TCP방식은 소켓이며, 상대방이 데이터를 받았는지 확실히 보장이된다.
 * UDP는 다 갖다가 뿌리는 것.

# TCP VS UDP
 * -> 각각의 장점을 최소 1개씩 대표적인 것으로 말할 수 있어야함.(신뢰성 - TCP, 속도 - UDP)
 * UDP가 불안정한데도 쓰는 이유 : 속도
 * TCP는 연결형 전이중 방식 - 서로 연결이 되어 있어야함.(파일 전송과 같이 신뢰성 필요)
 * UDP는 비연결형 단방향 방식 - 스트리밍에 많이 사용.(그냥 노래나, 동영상 서비스에 사용하면 좋음.)

 컬렉션은 셋, 리스트, 큐의 인터페이스로서, 자주 사용하는 자료구조 클래스들을 미리 만들어 놓음


 컨텍스트 스우칭없이 순차적으로 처리하더라도 스케쥴링은 가능함.
 스케쥴링을 
 컨텍스트 스위칭이 없으면 스케쥴링이 될 수 없다고 하기에는 말이 안됨.
 컨텍스트 스위칭은 
 ### 동시에 실행가능하게 하려고 하는거다.
 컨텍스트 스위치가 있으면, 동시에 실행이 가능하다.
 어떤 스케쥴링 왜필요한지. 

 전에있던 개념에서 컨텍스트 스위칭이 무엇인지.
 공부할때, 답이 없거나, 유추를 해야되는 상황이면, 새로운 라이브러리 같은 상황일때, 합리적인 선택을 해야할 때.
 구분해 내야할 줄 안다.
 ****모르는 개념이나 모르는 지식이더라도 추측하고, 예측하고 왜그런지 근거를 찾아보는 사고를 해가는 과정
 *****중요!!!! 답변 : ~~해도 답변은 어렵지만, 추측을 해봤을때 이런거라고생각합니다.

 SOLID -> 설계원칙
 지식을 달달외웠느냐가 중요한게 아니라. 5지선다로 시험
 맞다 틀리다. 면접 뭐라도 추측해보려고 하고, 아는 것을 합리적으로 설명하려고 해야한다.

 ***컨텍스트 스위칭 -> 데드락 어떻게 생기는지?
 좀 더 공부해보기!!!
하고싶은 얘기는 왜 쓰레드를 공부해야하느냐?
-> 쓰레드를 왜쓰는지 목적 : 멀티 프로세스 환경.
이것을 위해서 뭐가 필요한지.
-> 여러가지 문제를 해결하고

1. 대기시간이 짧아짐
컨텍스트 스위칭을 쓰면 0초에 실행이됨 둘다
UDP 
동시에 실행한다는게 가장 큰 장점.
코어가 늘어나면 속도가 빨라짐.
 * 데드락도 생기고
 멀티 쓰레드는 동시성 문제가 생김.
 그럼에도 불구하고, 사용해야 하는 이유. 여러가지 작업을 동시에 실행하기 위해서.
 8코어 쓰레드 수백개까지 사용함.
 컨텍스트 비용이 다 비싸지ㅏㄴ, 

 차례대로 처리하는게 더 좋아보임.

 메세지를 보낸다. 검색을 처리한다하더라도. 서버의 입장에서도 1000명치의 객체들을 처리하는것ㅇ ㅣ좋다. 앞에 큐가 있긴 함.
 1000개가 넘어가면 큐에 쌓임.

 씽글 쓰레드ㅡㄴ A 가 처리되고 B가 처리되어야하.
 A요청에서 외부 호출, DB 등. 블라킹 I/O라고 부름
 응답을 받지 않으면 계속 대기 하는 상태.
 B쓰레드는 처리를 받으면함.

 멀티 쓰레드는 A블락되는데, B블락을 쓰레드 실행할 수 있음.
 A를 실행하다가 넘어갔다가 할 수 있음.

 외부 호출 I/O 블락시간동안 순차적으로 처리를 할 수 있따.
 순차적으로 사용하면 사실상 CPU를 사용할 수 없다.
 컨텍스트 스위칭을 하면 다른 시간동안 CPU를 쓸 수 있다.

 컨텍스트 스위칭의 장점은 A가 처리중인데, B가 우선순위가 ㅓ무 높을때는 우선순위를 치고 들어올 수 있게 해주는 시스템도 가능함

 블락킹 I/O에서는 CPU에서 놀고 있음. 이게 싫으니까 멀티쓰레드를 하고 있음

# 쓰레드는 저기까지 준비
쓰레드가 왜 나왔는지? 먼저 아는게 더중요함.
 API 호출에서 DB나 외부 호출일 때 가장 오래걸리는 것임.
 네트워크 호출 비용이 생각보다 되게 김.
 쓰레드를 얼마나 늘려야하냐.,. 블락이 많이 되는 서비스 일 수록 코어가 많거나 적을때 밀릴만큼 쓰레드를 생성하면, 오히려 효율적이지 않다.
 밸런스를 조정할 줄 알아야함.
 CPU 리소스나 굉장히 치명적인 동시성 이슈가 일어날 수 있음.

 TCP/UDP는 속도 차이가 있음.
 목적
  안정성을 포기하는 대신에 빠름.

# 공부방법!!!!
  1. 왜나왔는지?
  2. 목적이 뭔지 뭐가 좋아졌고 안좋아졌는지.
  3. 유사한 차이점이 뭔지.
  4. 주의해야 하는지?

  그다음 특징과 차이점 트레이드 오프
  
  
  ***스프링입문을 위한 자바 객체 지향의 원리와 이해.
  ->
  토비의 스프링